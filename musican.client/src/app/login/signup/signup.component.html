<div class="signup-wrapper">
  <div class="signup-box shadow-lg">
    <h2 class="text-center mb-4 text-white">Registrieren</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-group position-relative mb-3">
        <input type="email"
               id="email"
               class="form-control ps-5"
               placeholder="E-Mail"
               formControlName="email" />
        <i class="bi bi-envelope position-absolute icon"></i>
      </div>
      <div class="text-danger"
           *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid"
           style="font-size: 0.875rem; margin-top: -0.5rem;">
        Bitte gib eine gültige E-Mail-Adresse ein.
      </div>

      <div class="form-group position-relative mb-3">
        <input type="text"
               id="name"
               class="form-control ps-5"
               placeholder="Benutzername"
               formControlName="name" />
        <i class="bi bi-person position-absolute icon"></i>
      </div>
      <div class="text-danger"
           *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.invalid"
           style="font-size: 0.875rem; margin-top: -0.5rem;">
        Der Nutzername ist erforderlich.
      </div>

      <div class="form-group position-relative mb-3">
        <div class="input-group">
          <input [type]="showPassword ? 'text' : 'password'"
                 id="password"
                 class="form-control ps-5"
                 placeholder="Passwort"
                 formControlName="password" />
          <button type="button"
                  class="btn btn-outline-light"
                  (click)="togglePasswordVisibility()"
                  tabindex="-1">
            <i [class]="showPassword ? 'bi bi-eye' : 'bi bi-eye-slash'"></i>
          </button>
        </div>
        <i class="bi bi-lock position-absolute icon"></i>
      </div>

      <div class="form-group position-relative mb-3">
        <input [type]="showPassword ? 'text' : 'password'"
               id="confirmPassword"
               class="form-control ps-5"
               placeholder="Passwort wiederholen"
               formControlName="confirmPassword" />
        <i class="bi bi-lock position-absolute icon"></i>
      </div>

      <div class="form-group mb-3">
        <div class="toggle-wrapper d-flex align-items-center justify-content-center">
          <span class="text-white me-3">Nutzer</span>
          <label class="switch">
            <input class="form-check-input"
                   type="checkbox"
                   formControlName="isComposer"
                   id="isComposer" />
            <span class="slider round"></span>
          </label>
          <span class="text-white ms-3">Künstler</span>
        </div>
      </div>

      <div *ngIf="registerForm.get('isComposer')?.value">
        <div class="form-group position-relative mb-3">
          <label for="profilePicture" class="form-label text-white">Profilbild</label>
          <input type="file"
                 id="profilePicture"
                 class="form-control ps-5"
                 (change)="onProfileImageSelected($event)"
                 accept="image/*" />
          <i class="bi bi-file-image position-absolute icon mt-3"></i>
        </div>

        <div class="form-group position-relative mb-3">
          <input type="number"
                 id="birthYear"
                 class="form-control ps-5"
                 placeholder="Geburtsjahr"
                 formControlName="birthYear" />
          <i class="bi bi-calendar-fill position-absolute icon"></i>
        </div>

        <div class="form-group position-relative mb-3">
          <input type="text"
                 id="genre"
                 class="form-control ps-5"
                 placeholder="Genre"
                 formControlName="genre" />
          <i class="bi bi-music-note-beamed position-absolute icon"></i>
        </div>

        <div class="form-group position-relative mb-3">
          <input type="text"
                 id="country"
                 class="form-control ps-5"
                 placeholder="Herkunftsland"
                 formControlName="country" />
          <i class="bi bi-globe-europe-africa-fill position-absolute icon"></i>
        </div>

        <div class="form-group position-relative mb-3">
          <label for="description" class="form-label text-white">Beschreibung</label>
          <textarea id="description"
                    class="form-control"
                    placeholder="Beschreibung"
                    formControlName="description"
                    rows="3">
          </textarea>
        </div>
      </div>

      <button type="submit"
              class="btn btn-light w-100"
              [disabled]="!registerForm.valid">
        Registrieren
      </button>
    </form>
  </div>
</div>
